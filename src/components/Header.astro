---
import { Image } from "astro:assets";
import LinkedinIcon from "../assets/linkedin.svg";
import GithubIcon from "../assets/github.png";
import Sparkles from "../assets/favicon.png";
import { Mail } from "lucide-react";
---

<script>
    if (
        localStorage.theme === "dark" ||
        (!("theme" in localStorage) &&
            window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
        document.documentElement.classList.add("dark");
    } else {
        document.documentElement.classList.remove("dark");
    }

    function toggleDarkMode() {
        const html = document.documentElement;
        if (html.classList.contains("dark")) {
            html.classList.remove("dark");
            localStorage.theme = "light";
        } else {
            html.classList.add("dark");
            localStorage.theme = "dark";
        }
    }

    window.addEventListener("DOMContentLoaded", () => {
        const toggleButton = document.getElementById("dark-mode-toggle");
        toggleButton?.addEventListener("click", toggleDarkMode);
    });
</script>

<!-- TODO: find svg github icon also need to match the border radiuses on the corners and colors --><!-- TODO: add favicon and ogimage -->
<header class="w-full sticky top-0 left-0 p-4 border-b bg-white z-10">
    <nav class="flex flex-row justify-between">
        <a
            href="/"
            class="flex flex-row items-center gap-2 md:hidden group hover:scale-110 transition-transform ease-in-out duration-300"
        >
            <Image
                src={Sparkles}
                height="20"
                width="20"
                alt="logo"
                loading="eager"
            />
            <p class="font-heading font-semibold">Edward New</p>
        </a>

        <ul class="hidden md:flex flex-row gap-8 items-center">
            <li class="me-4">
                <a
                    href="/"
                    class="flex flex-row items-center gap-2 group hover:scale-110 transition-transform ease-in-out duration-300"
                >
                    <Image
                        src={Sparkles}
                        height="20"
                        width="20"
                        alt="logo"
                        loading="eager"
                    />
                    <p class="font-heading font-semibold">Edward New</p>
                </a>
            </li>

            <li>
                <a href="/projects" class="hover:underline underline-offset-2"
                    ><p>Projects</p></a
                >
            </li>
            <li>
                <a href="/about" class="hover:underline underline-offset-2"
                    ><p>About</p></a
                >
            </li>
            <li>
                <a
                    href="/resume.pdf"
                    target="_blank"
                    class="hover:underline underline-offset-2"><p>Resume</p></a
                >
            </li>
        </ul>

        <ul class="flex flex-row items-center gap-2">
            <li>
                <a
                    href="https://www.linkedin.com/in/edward-new/"
                    target="_blank"
                >
                    <Image
                        src={LinkedinIcon}
                        height="32"
                        width="32"
                        alt="Linkedin"
                        loading="eager"
                        class="hover:scale-110 transition-transform"
                    /></a
                >
            </li>
            <li>
                <a href="https://github.com/EdwardNew" target="_blank">
                    <Image
                        src={GithubIcon}
                        height="27"
                        width="27"
                        alt="Github"
                        loading="eager"
                        class="hover:scale-110 transition-transform"
                    /></a
                >
            </li>
            <li class="hidden md:block">
                <a
                    href="mailto:edwardznew@gmail.com"
                    class="hover:underline underline-offset-2 bg-gray-950 block rounded-[0.2rem] p-0.5 px-[0.75] hover:scale-110 transition-transform"
                >
                    <Mail color="white" className="p-0.5" />
                </a>
            </li>
            <!-- TODO: think about adding a dark mode swtich/button -->
            <!-- <button
                id="dark-mode-toggle"
                class="p-2 bg-gray-200 rounded dark:bg-gray-700"
                aria-label="Toggle dark mode"
            >
                ðŸŒ“
            </button> -->
        </ul>
    </nav>
</header>

<!-- <style>
    header {
        @apply bg-white dark:bg-gray-900 text-black dark:text-white;
    }
</style> -->
